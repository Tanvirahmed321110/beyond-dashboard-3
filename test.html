<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Custom Line Chart</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
        <style>
            /* Control chart size */
            #myChart {
                width: 800px;
                /* Set width */
                height: 400px;
                /* Set height */
            }
        </style>
    </head>

    <body>
        <canvas id="myChart"></canvas>

        <script>
            const ctx = document.getElementById('myChart').getContext('2d');

            // Gradient for the line
            const gradient = ctx.createLinearGradient(0, 0, 800, 0);
            gradient.addColorStop(0, 'orange');
            gradient.addColorStop(0.5, 'red');
            gradient.addColorStop(1, 'teal');

            const dataPoints = [270, 200, 400]; // The values to display on the labels

            const myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'], // X-axis labels (replace with real data)
                    datasets: [{
                        data: [220, 270, 200, 400, 380], // Data points
                        borderColor: gradient,           // Gradient for line color
                        borderWidth: 4,
                        pointBackgroundColor: '#000',    // Black points
                        pointBorderColor: '#000',        // Black point border
                        pointRadius: 6,                  // Point size
                        fill: false,                     // No fill under the line
                        tension: 0.4                     // Smooth curve
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: {
                                display: false // Hide vertical grid lines
                            }
                        },
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 100  // Customize step size (optional)
                            }
                        }
                    },
                    plugins: {
                        tooltip: {
                            enabled: false // Disable default tooltips
                        },
                        legend: {
                            display: false // Hide legend
                        },
                        datalabels: {
                            display: true,
                            color: 'white',
                            backgroundColor: function (context) {
                                // Customize background color for each label
                                const value = context.dataset.data[context.dataIndex];
                                if (value === 270) return 'orange';
                                if (value === 200) return 'red';
                                if (value === 400) return 'teal';
                                return 'grey';
                            },
                            borderRadius: 4,
                            font: {
                                weight: 'bold'
                            },
                            formatter: (value, context) => {
                                // Show custom value labels
                                return dataPoints[context.dataIndex] || '';
                            },
                            align: 'top',
                            anchor: 'end'
                        }
                    }
                },
                plugins: [ChartDataLabels] // Chart.js plugin for labels
            });
        </script>
    </body>

</html>